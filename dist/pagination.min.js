!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Pagination=t()}(this,(function(){"use strict";return function(e){const t={splitTag:"h3",contentContainerSelector:".rich-text-content",paginationContainerSelector:".pagination-container",...e},n=new URLSearchParams(window.location.search).get("page")||1,a=document.querySelector(t.contentContainerSelector),i=function(e){const t=[];let n=document.createElement("div");return Array.from(a.children).forEach((a=>{a.tagName.toLowerCase()===e&&n.children.length&&(t.push(n.innerHTML),n=document.createElement("div")),n.appendChild(a.cloneNode(!0))})),t.push(n.innerHTML),t}(t.splitTag);function o(e,t,n=1){let a="";t>1&&(a+=`<a href="?page=${t-1}" class="pagination-prev">前へ</a>`);for(let e=n;e<n+4;e++)e===parseInt(t)?a+=`<span class="pagination-count active">${e}</span>`:a+=`<a href="?page=${e}" class="pagination-count">${e}</a>`;return n>1&&(a+=`<a href="#" class="pagination-ellipsis-back" data-start-page="${n-4}">...</a>`,a+='<a href="?page=1" class="pagination-count">1</a>'),e>n+3&&(a+=`<a href="#" class="pagination-ellipsis" data-start-page="${n+4}">...</a>`,a+=`<a href="?page=${e}" class="pagination-count">${e}</a>`),t<e&&(a+=`<a href="?page=${t+1}" class="pagination-next">次へ</a>`),a}a.innerHTML=i[n-1]||"";const r=i.length;let s=o(r,parseInt(n));const c=document.querySelector(t.paginationContainerSelector);c.innerHTML=s,c.addEventListener("click",(e=>{if(e.target.classList.contains("pagination-ellipsis")){e.preventDefault();const t=parseInt(e.target.getAttribute("data-start-page"));s=o(r,parseInt(n),t),c.innerHTML=s}if(e.target.classList.contains("pagination-ellipsis-back")){e.preventDefault();const t=parseInt(e.target.getAttribute("data-start-page"));s=o(r,parseInt(n),t),c.innerHTML=s}}))}}));
